# Rime schema
# encoding: utf-8

patch:
  # 开关
  switches:
    - name: ascii_mode
      reset: 1                  # 默认西文
      states: ["中", "A"]
    - name: full_shape
      states: ["半角", "全角"]  # 默认半角
    - name: simplification
      reset: 1                  # 默认简体
      states: ["繁", "简"]
    - name: ascii_punct
      states: ["。，", "．，"]

  engine:
    processors:
      - ascii_composer
      - recognizer
      - key_binder
      - speller
      - punctuator
      - selector
      - navigator
      - express_editor
    segmentors:
      - ascii_segmentor
      - matcher
      - abc_segmentor
      - punct_segmentor
      - fallback_segmentor
    translators:
      - punct_translator
      - reverse_lookup_translator
      - script_translator
      - table_translator@custom_phrase   # 自定义短语 custom_phrase.txt
    filters:
      - "simplifier@emoji_suggestion"    # Emoji
      - simplifier
      - uniquifier

  # 自定义短语
  custom_phrase:
    dictionary: ""
    user_dict: custom_phrase
    db_class: stabledb
    enable_completion: false # 补全提示
    enable_sentence: false   # 禁止造句
    initial_quality: 99      # 给予 custom_phrase 更大的权重


  ############################################

  # 标点符号
  # half_shape 半角标点映射
  # symbols    Rime 预设配置是以 '/' 前缀开头输出一系列字符，自定义的 symbols_caps_s.yaml 修改成了 'S' 开头
  punctuator:
    half_shape:
      __include: default:/punctuator/half_shape  # 从 default.yaml 导入配置
    symbols:
      __include: symbols_caps_s:/symbols         # 从 symbols_caps_s.yaml 导入配置

  # 处理符合特定规则的输入码，如网址、邮箱
  recognizer:
    import_preset: default  # 从 default.yaml 继承通用的
    patterns:  # 再增加方案专有的：
      punct: "^S([0-9]|10|[A-Za-z]+)$"  # 响应 symbols_caps_s.yaml 的 symbols

  # 从 default 继承快捷键
  key_binder:
    import_preset: default  # 从 default.yaml 继承通用的
    # bindings:             # 也可以再增加方案专有的

__patch:
# Rx: emoji:customize:schema=luna_pinyin_simp {
  - patch/+:
      __include: emoji_suggestion:/patch
# }
